# MotoMindAI Environment Configuration Template
# Copy this file to .env.local and fill in your actual values
# Get your Supabase credentials from: https://supabase.com/dashboard

# ================================
# DATABASE
# ================================
# Format: postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@db.YOUR_PROJECT_REF.supabase.co:5432/postgres

# Database Pool Settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ================================
# SUPABASE (Public - Safe to expose in frontend)
# ================================
NEXT_PUBLIC_SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Supabase (Legacy - some older code may use these)
SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# ================================
# SUPABASE (Server-side - Keep Secret!)
# ================================
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# ================================
# OPENAI (Required for Vision AI)
# ================================
OPENAI_API_KEY=sk-proj-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_TIMEOUT_MS=15000

# ================================
# AUTHENTICATION & SECURITY
# ================================
# Generate a secure secret: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-min-32-chars-here
JWT_SECRET=your-jwt-secret-key-here

# ================================
# APPLICATION SETTINGS
# ================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3005

# ================================
# FEATURE FLAGS
# ================================
# Roman Architecture - New API envelope format
NEW_API_ENVELOPE=true

# Dashboard snapshot feature
NEXT_PUBLIC_DASHBOARD_SNAPSHOT=true

# Vision AI enhancements (NEW!)
VISION_USE_REFERENCE_LEGEND=true
VISION_USE_GAUGE_REFERENCES=true

# ================================
# USAGE TRACKING
# ================================
USAGE_BATCH_SIZE=10
USAGE_FLUSH_INTERVAL_MS=30000

# ================================
# EXTERNAL APIS (Optional)
# ================================
# Samsara integration (not required for smartphone demo)
SAMSARA_API_KEY=mock-key-not-needed
SAMSARA_BASE_URL=https://api.samsara.com
SAMSARA_RATE_LIMIT_PER_TENANT=100

# ================================
# CIRCUIT BREAKER (Optional)
# ================================
CIRCUIT_BREAKER_TENANT_THRESHOLD=3
CIRCUIT_BREAKER_GLOBAL_THRESHOLD=10
CIRCUIT_BREAKER_TIMEOUT_MS=300000

# ================================
# BILLING & STRIPE (Optional)
# ================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Observability
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
PROMETHEUS_METRICS_PORT=9090
SYNTHETIC_CHECK_INTERVAL_MS=300000

# App Configuration
NEXT_PUBLIC_APP_URL=http://localhost:3005
NODE_ENV=development
PORT=3005

# Usage Tracking
USAGE_BATCH_SIZE=100
USAGE_FLUSH_INTERVAL_MS=30000

# Data Retention
DEBUG_LOG_RETENTION_DAYS=30
AUDIT_LOG_RETENTION_YEARS=7
ARCHIVE_AFTER_DAYS=365

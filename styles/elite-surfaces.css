/**
 * Elite Surfaces CSS
 * 
 * World-class surface styling inspired by Apple, Google, Microsoft
 * Advanced glassmorphism, depth, and micro-interactions
 */

/* ============================================================================
   CSS CUSTOM PROPERTIES (DESIGN TOKENS)
   ============================================================================ */

:root {
  /* Material You Color Tokens */
  --md-sys-color-surface: #fefbff;
  --md-sys-color-surface-variant: #f4eff4;
  --md-sys-color-surface-container: #f0edf1;
  --md-sys-color-surface-container-high: #eae7eb;
  --md-sys-color-surface-container-highest: #e4e1e5;
  
  --md-sys-color-primary: #6750a4;
  --md-sys-color-primary-container: #eaddff;
  --md-sys-color-on-primary-container: #21005d;
  
  --md-sys-color-secondary-container: #e8def8;
  --md-sys-color-on-secondary-container: #1d192b;
  
  --md-sys-color-tertiary-container: #ffd8e4;
  --md-sys-color-on-tertiary-container: #31111d;

  /* Elevation Tokens */
  --md-elevation-level0: none;
  --md-elevation-level1: 0 1px 2px rgba(0, 0, 0, 0.3), 0 1px 3px 1px rgba(0, 0, 0, 0.15);
  --md-elevation-level2: 0 1px 2px rgba(0, 0, 0, 0.3), 0 2px 6px 2px rgba(0, 0, 0, 0.15);
  --md-elevation-level3: 0 1px 3px rgba(0, 0, 0, 0.3), 0 4px 8px 3px rgba(0, 0, 0, 0.15);
  --md-elevation-level4: 0 2px 3px rgba(0, 0, 0, 0.3), 0 6px 10px 4px rgba(0, 0, 0, 0.15);
  --md-elevation-level5: 0 4px 4px rgba(0, 0, 0, 0.3), 0 8px 12px 6px rgba(0, 0, 0, 0.15);

  /* Surface Intelligence Tokens */
  --surface-form: #fafafa;
  --surface-code: #1e1e1e;
  --focus-color: #3b82f6;
}

/* Dark mode tokens */
@media (prefers-color-scheme: dark) {
  :root {
    --md-sys-color-surface: #141218;
    --md-sys-color-surface-variant: #49454f;
    --md-sys-color-surface-container: #211f26;
    --md-sys-color-surface-container-high: #2b2930;
    --md-sys-color-surface-container-highest: #36343b;
    
    --md-sys-color-primary-container: #4f378b;
    --md-sys-color-on-primary-container: #eaddff;
    
    --surface-form: #1a1a1a;
    --surface-code: #0d1117;
  }
}

/* ============================================================================
   ADVANCED GLASSMORPHISM EFFECTS
   ============================================================================ */

/* Apple-style glass effects */
.glass-apple-subtle {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(8px) saturate(180%);
  -webkit-backdrop-filter: blur(8px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.glass-apple-medium {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.25);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
}

.glass-apple-strong {
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(24px) saturate(200%);
  -webkit-backdrop-filter: blur(24px) saturate(200%);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
}

.glass-apple-premium {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(40px) saturate(125%) contrast(125%);
  -webkit-backdrop-filter: blur(40px) saturate(125%) contrast(125%);
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.6),
    0 20px 40px rgba(0, 0, 0, 0.1);
}

/* Contextual glass adaptation */
.glass-on-dark {
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.glass-on-color {
  background: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

/* ============================================================================
   SOPHISTICATED DEPTH & SHADOWS
   ============================================================================ */

/* Organic shadow system */
.shadow-organic-natural {
  box-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.08),
    0 1px 4px rgba(0, 0, 0, 0.06);
}

.shadow-organic-floating {
  box-shadow: 
    0 4px 16px rgba(0, 0, 0, 0.12),
    0 2px 8px rgba(0, 0, 0, 0.08);
}

.shadow-organic-elevated {
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.16),
    0 4px 16px rgba(0, 0, 0, 0.12);
}

/* Layered shadow system */
.shadow-layered-subtle {
  box-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.04),
    0 1px 4px rgba(0, 0, 0, 0.04);
}

.shadow-layered-soft {
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.06),
    0 4px 8px rgba(0, 0, 0, 0.06),
    0 8px 16px rgba(0, 0, 0, 0.06);
}

.shadow-layered-medium {
  box-shadow: 
    0 4px 8px rgba(0, 0, 0, 0.08),
    0 8px 16px rgba(0, 0, 0, 0.08),
    0 16px 32px rgba(0, 0, 0, 0.08);
}

.shadow-layered-strong {
  box-shadow: 
    0 8px 16px rgba(0, 0, 0, 0.1),
    0 16px 32px rgba(0, 0, 0, 0.1),
    0 32px 64px rgba(0, 0, 0, 0.1);
}

/* ============================================================================
   PREMIUM MICRO-INTERACTIONS
   ============================================================================ */

/* Hover effects */
.hover-breathe {
  transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-breathe:hover {
  transform: scale(1.02);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
}

.hover-lift {
  transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}

.hover-glow {
  transition: box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-glow:hover {
  box-shadow: 
    0 0 20px rgba(59, 130, 246, 0.3),
    0 8px 32px rgba(0, 0, 0, 0.12);
}

/* Transition presets */
.transition-gentle {
  transition: 
    background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
    border-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.transition-smooth {
  transition: 
    transform 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
    opacity 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.transition-elastic {
  transition: 
    transform 400ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* ============================================================================
   LOADING STATES & ANIMATIONS
   ============================================================================ */

/* Shimmer effect */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.loading-shimmer {
  position: relative;
  overflow: hidden;
}

.loading-shimmer::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  animation: shimmer 1.5s infinite ease-in-out;
}

/* Skeleton loading */
@keyframes skeleton {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.loading-skeleton {
  background: linear-gradient(
    90deg,
    #f0f0f0 25%,
    #e0e0e0 50%,
    #f0f0f0 75%
  );
  background-size: 200% 100%;
  animation: skeleton 1.2s infinite ease-in-out;
}

/* Pulse loading */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.loading-pulse {
  animation: pulse 2s infinite cubic-bezier(0.4, 0, 0.6, 1);
}

/* ============================================================================
   MATERIAL YOU ADAPTIVE SURFACES
   ============================================================================ */

.material-surface-container {
  background: var(--md-sys-color-surface-container);
  color: var(--md-sys-color-on-surface);
}

.material-primary-container {
  background: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
}

.material-secondary-container {
  background: var(--md-sys-color-secondary-container);
  color: var(--md-sys-color-on-secondary-container);
}

.material-tertiary-container {
  background: var(--md-sys-color-tertiary-container);
  color: var(--md-sys-color-on-tertiary-container);
}

/* Material elevation levels */
.material-elevation-0 { box-shadow: var(--md-elevation-level0); }
.material-elevation-1 { box-shadow: var(--md-elevation-level1); }
.material-elevation-2 { box-shadow: var(--md-elevation-level2); }
.material-elevation-3 { box-shadow: var(--md-elevation-level3); }
.material-elevation-4 { box-shadow: var(--md-elevation-level4); }
.material-elevation-5 { box-shadow: var(--md-elevation-level5); }

/* ============================================================================
   FLUENT DESIGN EFFECTS
   ============================================================================ */

.fluent-acrylic {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(30px);
  -webkit-backdrop-filter: blur(30px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.fluent-mica {
  background: color-mix(in srgb, canvas 70%, transparent 30%);
  backdrop-filter: blur(50px);
  -webkit-backdrop-filter: blur(50px);
}

/* ============================================================================
   ACCESSIBILITY ENHANCEMENTS
   ============================================================================ */

/* High contrast mode */
@media (prefers-contrast: high) {
  .glass-apple-subtle,
  .glass-apple-medium,
  .glass-apple-strong,
  .glass-apple-premium {
    background: #ffffff;
    border: 2px solid #000000;
    backdrop-filter: none;
  }
  
  .material-surface-container {
    border: 2px solid currentColor;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .hover-breathe,
  .hover-lift,
  .hover-glow,
  .transition-gentle,
  .transition-smooth,
  .transition-elastic {
    transition: none;
  }
  
  .loading-shimmer::before,
  .loading-skeleton,
  .loading-pulse {
    animation: none;
  }
}

/* Focus enhancement */
.focus-enhanced:focus-visible {
  outline: 3px solid var(--focus-color);
  outline-offset: 2px;
  border-radius: 4px;
}

/* ============================================================================
   RESPONSIVE SURFACE ADAPTATIONS
   ============================================================================ */

/* Mobile optimizations */
@media (max-width: 640px) {
  .glass-apple-medium,
  .glass-apple-strong,
  .glass-apple-premium {
    backdrop-filter: blur(8px); /* Reduce blur for performance */
  }
  
  .hover-breathe:hover,
  .hover-lift:hover {
    transform: none; /* Disable hover on touch devices */
  }
}

/* Desktop enhancements */
@media (min-width: 1024px) {
  .glass-apple-premium {
    backdrop-filter: blur(50px) saturate(150%) contrast(125%);
  }
  
  .hover-lift:hover {
    transform: translateY(-4px); /* Enhanced hover on desktop */
  }
}

/* ============================================================================
   SURFACE PRESETS
   ============================================================================ */

/* Apple Card preset */
.preset-apple-card {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

/* Apple Modal preset */
.preset-apple-modal {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(40px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
}

/* Material FAB preset */
.preset-material-fab {
  background: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
  border-radius: 16px;
  box-shadow: var(--md-elevation-level3);
}

/* ============================================================================
   UTILITY CLASSES
   ============================================================================ */

/* Quick access to elite effects */
.surface-elite-glass { @apply glass-apple-medium; }
.surface-elite-depth { @apply shadow-organic-floating; }
.surface-elite-hover { @apply hover-breathe; }
.surface-elite-transition { @apply transition-gentle; }

/* Performance optimizations */
.surface-gpu-optimized {
  transform: translateZ(0);
  will-change: transform, opacity;
  backface-visibility: hidden;
}

.surface-composite-layer {
  isolation: isolate;
  contain: layout style paint;
}

/* Content visibility for large surfaces */
.surface-content-visibility {
  content-visibility: auto;
  contain-intrinsic-size: 200px;
}
